<%- include('../includes/head.ejs') %>
<body >
<main class="container mx-auto px-4 py-8">
<form action="/property" method="POST" enctype="multipart/form-data">
  <div class="content-area submit-property" style="background-color: #FCFCFC;">
    <div class="container">
      <div class="clearfix">
        <div class="wizard-container">
          <div class="wizard-card ct-wizard-orange" id="wizardProperty">

            <div class="wizard-header">
              <h3><b>Submit</b> YOUR PROPERTY <br><small>Fill out the form step by step.</small></h3>
            </div>

            <ul>
              <li><a href="#step1" data-toggle="tab">Step 1</a></li>
              <li><a href="#step2" data-toggle="tab">Step 2</a></li>
              <li><a href="#step3" data-toggle="tab">Step 3</a></li>
              <li><a href="#step4" data-toggle="tab">Finished</a></li>
            </ul>

            <div class="tab-content">

              <!-- Step 1 -->
              <div class="tab-pane" id="step1">
                <h4 class="info-text">Basic Information</h4>
                <div class="form-group">
                  <label>Property Name</label>
                  <input name="name" type="text" class="form-control" required>
                </div>
                <div class="form-group">
                  <label>Price</label>
                  <input name="price" type="number" class="form-control" required>
                </div>
                <div class="form-group">
                  <label>Telephone</label>
                  <input name="phone" type="text" class="form-control" required>
                </div>
                <div class="form-group">
                  <label>Main Image</label>
                  <input type="file" name="mainImage" class="form-control" required>
                </div>
              </div>

              <!-- Step 2 -->
              <div class="tab-pane" id="step2">
                <h4 class="info-text">Property Details</h4>
                <div class="form-group">
                  <label>Description</label>
                  <textarea name="discription" class="form-control" required ></textarea>
                </div>

                <div class="form-group">
                  <label>State</label>
                  <select name="stateId" class="form-control" required>
                    <% states.forEach(state => { %>
                      <option value="<%= state._id %>"><%= state.name %></option>
                    <% }) %>
                  </select>
                </div>

                <div class="form-group">
                  <label>Category</label>
                  <select name="categoryId" class="form-control" required>
                    <% categories.forEach(cat => { %>
                      <option value="<%= cat._id %>"><%= cat.name %></option>
                    <% }) %>
                  </select>
                </div>

                <div class="form-group">
                  <label>Status</label>
                  <select name="statusId" class="form-control" required>
                    <% statuses.forEach(stat => { %>
                      <option value="<%= stat._id %>"><%= stat.name %></option>
                    <% }) %>
                  </select>
                </div>

                <input name="beds" type="number" class="form-control" placeholder="Beds" required>
                <input name="baths" type="number" class="form-control" placeholder="Baths" required>
                <input name="area" type="number" class="form-control" placeholder="Area in sqft" required>

                <label>Features</label>
                <div class="row">
                  <% features.forEach(f => { %>
                    <div class="col-sm-3">
                      <div class="checkbox">
                        <label><input type="checkbox" name="features" value="<%= f._id %>"> <%= f.name %></label>
                      </div>
                    </div>
                  <% }) %>
                </div>
              </div>

              <!-- Step 3 -->
              <div class="tab-pane" id="step3">
                <h4 class="info-text">Upload Gallery Images</h4>
                <div class="form-group">
                  <label>Gallery Images</label>
                  <input type="file" name="galleryImages" multiple class="form-control">
                </div>
                <div class="form-group">
                  <label>Property Videos (optional)</label>
                  <input name="video1" class="form-control" placeholder="YouTube/Vimeo Link">
                  <input name="video2" class="form-control" placeholder="YouTube/Vimeo Link">
                  <input name="video3" class="form-control" placeholder="YouTube/Vimeo Link">
                </div>
              </div>

              <!-- Step 4 -->
              <div class="tab-pane" id="step4">
                <h4 class="info-text">Final Step</h4>
                <input type="hidden" name="userId" value="USER_ID_PLACEHOLDER">
                <div class="checkbox">
                  <label>
                    <input type="checkbox" name="termsAndConditions" required>
                    I agree to the Terms and Conditions
                  </label>
                </div>
              </div>
            </div>

            <div class="wizard-footer">
              <div class="pull-right">
                <input type="button" class="btn btn-next btn-primary" name='next' value="Next" />
                <button type="submit" class="btn btn-finish btn-primary" name='finish' value='Finish'>Finish</button>
              </div>
              <div class="pull-left">
                <input type="button" class="btn btn-previous btn-default"name='previous' value='Previous' />
              </div>
              <div class="clearfix"></div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</form>
</main>
</body>

